# flask-SQLAlchemy
# 图书馆管理系统

一个基于 Flask 和 MySQL 的简单图书馆管理系统，支持图书管理、读者管理、借阅归还等核心功能，包含管理员和普通读者两种角色权限控制。

## 项目简介

该系统旨在提供一个轻量级的图书馆管理解决方案，主要实现以下功能：
- 用户登录与权限管理（管理员/普通读者）
- 图书信息管理（查询、新增）
- 读者信息管理（仅管理员）
- 图书借阅与归还操作

系统采用前后端不分离架构，使用 Flask 作为后端框架，HTML 作为前端展示，MySQL 作为数据库存储。

## 核心架构

### 技术栈
- **后端框架**：Flask 2.0+
- **数据库**：MySQL 8.0+
- **ORM**：SQLAlchemy
- **前端**：HTML、CSS、Jinja2 模板引擎
- **部署**：Python 3.8+

### 数据库设计

系统包含 3 个核心数据表，关系如下：

1. **User（用户表）**
   - 存储登录账号信息，支持权限控制
   - 字段：id, username, password, role(角色：admin/customer)

2. **Book（图书表）**
   - 存储图书基本信息及借阅状态
   - 字段：id, name, author, isbn, status(可借/已借), borrow_time, return_time, borrower_id

3. **Reader（读者表）**
   - 存储读者详细信息，与用户表一对一关联
   - 字段：id, reader_id, name, phone, user_id(外键关联User表)

### 核心功能模块

1. **用户认证模块**
   - 登录/退出功能
   - 基于session的身份验证
   - 角色权限控制

2. **图书管理模块**
   - 图书列表展示与搜索
   - 图书新增（仅管理员）
   - 图书状态跟踪

3. **读者管理模块**
   - 读者信息维护（仅管理员）
   - 读者账号自动创建

4. **借阅归还模块**
   - 图书借阅操作
   - 图书归还操作
   - 借阅状态查询

## 目录结构

```
library_system/
├── app.py               # 主程序入口，包含路由和业务逻辑
├── templates/           # 前端模板文件
│   ├── index.html       # 首页
│   ├── login.html       # 登录页
│   ├── books.html       # 图书管理页
│   └── borrow_return.html # 借阅归还页
└── README.md            # 项目说明文档
```

## 快速开始

### 前置要求
- Python 3.8+
- MySQL 8.0+

### 安装步骤

1. 克隆仓库
```bash
git clone <仓库地址>
cd library_system
```

2. 安装依赖
```bash
pip install flask flask-sqlalchemy pymysql
```

3. 配置数据库
   - 修改 `app.py` 中的数据库连接信息：
   ```python
   app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql+pymysql://用户名:密码@localhost:3306/library_db'
   ```
   - 确保MySQL服务已启动，并创建数据库 `library_db`

4. 启动应用
```bash
python app.py
```

5. 访问系统
   - 打开浏览器访问：`http://127.0.0.1:5000`
   - 初始状态无管理员账号，可通过数据库直接插入管理员用户：
   ```sql
   INSERT INTO user (username, password, role) VALUES ('admin', 'admin123', 'admin');
   ```
   - 普通读者初始密码为 `123456`

## 使用说明

### 管理员功能
- 登录系统后可访问所有功能页面
- 图书管理：查询图书、新增图书
- 读者管理：新增读者（自动创建登录账号）
- 借阅管理：为任意读者借阅图书、强制归还任意图书、查看全馆借阅情况

### 普通读者功能
- 登录系统后可访问图书列表和个人借阅页面
- 图书查询：浏览可借图书
- 借阅管理：借阅图书、归还自己借阅的图书、查看个人借阅记录

## 功能截图

（可在此处添加系统关键页面截图）

1. 登录页面：用户登录入口
2. 首页：功能导航中心
3. 图书管理页：图书列表与新增功能
4. 借阅归还页：借阅操作与借阅记录查询

## 开发计划

1. 增加密码加密存储功能
2. 添加图书分类和数量管理
3. 实现借阅期限和超期提醒
4. 增加数据统计和报表功能
5. 优化前端界面和用户体验

## 许可证

本项目采用 MIT 许可证 - 详情参见 LICENSE 文件

## 贡献指南

欢迎提交 issue 和 pull request 来改进这个项目。对于重大更改，请先提出 issue 讨论您想要改变的内容。

## 联系方式

如有问题或建议，请联系：2934382053@qq.com
